# Lefthook configuration for linkdingctl
# See https://github.com/evilmartians/lefthook for documentation

pre-commit:
  parallel: true

  commands:
    beads-sync:
      run: bd hook pre-commit
      skip:
        - run: command -v bd > /dev/null
          exit_status: 1

    go-vet:
      run: go vet ./...

    golangci-lint:
      run: |
        if ! command -v golangci-lint > /dev/null; then
          echo "⚠️  golangci-lint not installed. Install from https://golangci-lint.run/usage/install/"
          exit 0
        fi
        golangci-lint run
